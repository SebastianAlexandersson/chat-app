(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{41:function(e,n,a){e.exports=a(54)},54:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),l=a(23),i=a.n(l),s=a(2),o=a(18),c=a(14),u=a(3),m=a(5),d=a.n(m),p=a(9);function f(){var e=Object(s.a)(["\n  display: inline-flex;\n  margin: 0;\n  padding: 0;\n"]);return f=function(){return e},e}var b,g=u.b.ul(f()),E="https://sebbe.dev/studentprojekt",v="/studentprojekt",h=function(e,n){clearTimeout(b),b=setTimeout((function(){n()}),e)};function w(){var e=Object(s.a)(["\n  color: #fff;\n  padding: 1em;\n  text-decoration: none;\n  font-weight: bold;\n  &:visited {\n    text-decoration: none;\n    color: #fff;\n  }\n  &:hover {\n    color: lightgray;\n  }\n"]);return w=function(){return e},e}var I=Object(u.b)(o.b)(w()),O=function(e){var n=e.to,a=e.name,t=v+n;return r.a.createElement(I,{to:t},a)};function y(){var e=Object(s.a)(["\n  padding: 1em 2em;\n  background-color: blue;\n  border: none;\n  font-weight: bold;\n  font-size: .8em;\n  color: #fff;\n  cursor: pointer;\n  margin-right: .5em;\n  border-radius: 5px;\n"]);return y=function(){return e},e}var x=u.b.button(y()),j=a(13),R=function(e){return{type:"LOGIN_ERROR",msg:e}},S=function(e,n){return function(){var a=Object(p.a)(d.a.mark((function a(t){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"LOGIN_LOADING",isLoading:!0}),a.prev=1,a.next=4,fetch("".concat(E,"/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})});case 4:if(200===(r=a.sent).status){a.next=7;break}throw Error(r.status);case 7:t({type:"LOGIN_SUCCESS",msg:"Inloggning lyckades."}),a.next=14;break;case 10:throw a.prev=10,a.t0=a.catch(1),401===Number(a.t0.message)?t(R("Felaktigt anv\xe4ndarnamn eller l\xf6senord.")):t(R("N\xe5nting gick fel...")),Error(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()};function V(){var e=Object(s.a)(["\n  width: 100%;\n  background-color: blue;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2em;\n"]);return V=function(){return e},e}var L=u.b.nav(V()),k=Object(j.b)((function(e){return{login:e.login}}))((function(e){var n=e.login,a=e.dispatch,t=Object(c.f)(),l=function(){var e=Object(p.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(E).concat(v,"/api/logout"));case 3:return n=e.sent,e.t0=console,e.next=7,n.status;case 7:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),a({type:"LOGIN_LOGOUT"}),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(0),console.log(e.t2);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(L,null,r.a.createElement(g,null,r.a.createElement(O,{to:"/",name:"Hem"}),r.a.createElement(O,{to:"/about",name:"Om"})),r.a.createElement("div",null,!n.isLoggedIn&&r.a.createElement(x,{onClick:function(){return t.push(v+"/register")}},"Registrera"),r.a.createElement(x,{onClick:n.isLoggedIn?l:function(){return t.push(v+"/login")}},n.isLoggedIn?"Logga ut":"Logga in")))}));function T(){var e=Object(s.a)(["\n  max-width: 1024px;\n  width: 100%;\n  padding: 0 1em;\n  background-color: #fff;\n"]);return T=function(){return e},e}var G=u.b.section(T());function _(){var e=Object(s.a)(["\n  padding: 1em 2em;\n  background-color: blue;\n  border: none;\n  font-weight: bold;\n  font-size: .8em;\n  color: #fff;\n  cursor: pointer;\n  margin-right: .5em;\n  margin-left: auto;\n  border-radius: 5px;\n"]);return _=function(){return e},e}var B=u.b.button(_()),N=a(10);function A(){var e=Object(s.a)(["\n  text-decoration: none;\n  &:visited {\n    color: blue;\n  }\n"]);return A=function(){return e},e}function C(){var e=Object(s.a)(["\n  width: 100%;\n  box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);\n  border-radius: 5px;\n  padding: 1em;\n  margin: 2em 0;\n  position: relative;\n"]);return C=function(){return e},e}function P(){var e=Object(s.a)(["\n  margin: 1em;\n"]);return P=function(){return e},e}function D(){var e=Object(s.a)(["\n  font-size: .8em;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  font-weight: bold;\n  padding: .5em;\n  padding-bottom: 0;\n  margin-left: .5em;\n"]);return D=function(){return e},e}function F(){var e=Object(s.a)(["\n  font-size: 1.3em;\n  margin-top: 2em;\n"]);return F=function(){return e},e}var U=u.b.h2(F()),z=u.b.span(D()),M=u.b.p(P()),W=u.b.article(C()),J=u.b.a(A()),$=function(e){var n=e.header,a=e.poster,t=e.post,l=e.posterType;return r.a.createElement(W,null,r.a.createElement(U,null,n),r.a.createElement(z,null,r.a.createElement(J,{href:"#"},r.a.createElement(N.a,{icon:["far","envelope"]}),r.a.createElement("span",null," ",a)),r.a.createElement("span",null," - "),r.a.createElement(N.a,{icon:["fab","js-square"],color:"black",mask:["fas","square"],transform:"grow-1",style:{background:"yellow"}}),r.a.createElement("span",null," ",l)),r.a.createElement(M,null,t),r.a.createElement(B,null,"Svara"))},q=function(){return r.a.createElement(G,null,r.a.createElement("h1",null,"Studentprojekt"),r.a.createElement($,{header:"Mitt projekt!",poster:"Sebastian Alexandersson",post:"Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla",posterType:"Javascriptutveckalare"}),r.a.createElement($,{header:"Mitt projekt!",poster:"Sebastian Alexandersson",post:"Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla",posterType:"Javascriptutveckalare"}),r.a.createElement($,{header:"Mitt projekt!",poster:"Sebastian Alexandersson",post:"Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla",posterType:"Javascriptutveckalare"}),r.a.createElement($,{header:"Mitt projekt!",poster:"Sebastian Alexandersson",post:"Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla Bla bla bla bla bla",posterType:"Javascriptutveckalare"}))},K=function(){return r.a.createElement(G,null,r.a.createElement("h1",null,"Om"))};function H(){var e=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  color: red;\n  font-size: .8em;\n"]);return H=function(){return e},e}function Q(){var e=Object(s.a)(["\n  padding: 1em;\n  border: 1px solid;\n  border-color: ",";\n  margin: 1em 0;\n  width: ",";\n  font-size: 1em;\n  &:focus {\n    outline: ",";\n  }\n"]);return Q=function(){return e},e}var X=u.b.input(Q(),(function(e){return!0===e.isValid?"green":null===e.isValid?"none":"red"}),(function(e){return e.halfWidth?"49%":"100%"}),(function(e){return null===e.isValid?"1px solid blue":"none"})),Y=u.b.label(H()),Z=function(e){return r.a.createElement(X,{isValid:e.valid,onChange:e.onChange,onBlur:e.onBlur,value:e.value,type:e.type||"text",name:e.name,placeholder:e.placeholder,halfWidth:e.halfWidth})};function ee(){var e=Object(s.a)(["\n  width: 100%;\n  border: none;\n  padding: 1em 2em;\n  font-weight: bold;\n  color: #fff;\n  outline: none;\n  background-color: ",";\n  font-size: 1em;\n  border-radius: 5px;\n  cursor: pointer;\n"]);return ee=function(){return e},e}var ne=u.b.button(ee(),(function(e){return e.disabled?"darkblue":"blue"}));function ae(){var e=Object(s.a)(["\n  margin: auto;\n  width: 100%;\n  max-width: ",";\n  padding: 2em 1.5em;\n  box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);\n  background-color: #fff;\n  & .inputContainer {\n    display: flex;\n    position: relative;\n    width: 100%;\n    flex-direction: row;\n    justify-content: space-between;\n  }\n\n  & h1 {\n    text-align: center;\n  }\n"]);return ae=function(){return e},e}var te=u.b.section(ae(),(function(e){return e.maxWidth}));function re(){var e=Object(s.a)(["\n  width: 100%;\n  color: #fff;\n  padding: 1em;\n  background-color: ",";\n  display: ",";\n  align-items: center;\n  border-radius: 5px;\n  box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);\n  span {\n    margin-left: 1em;\n  }\n"]);return re=function(){return e},e}var le=u.b.div(re(),(function(e){return e.success?"green":e.error?"red":"transparent"}),(function(e){return e.success||e.error?"flex":"none"})),ie=function(e){var n=e.error,a=e.success,t=e.msg;return r.a.createElement(le,{error:n,success:a},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{icon:["fas","exclamation-circle"],size:"2x"}),r.a.createElement("span",null,t)),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{icon:["fas","check-circle"],size:"2x"}),r.a.createElement("span",null,t)))},se=Object(j.b)((function(e){return{login:e.login}}))((function(e){var n=e.login,a=e.dispatch,l=n.username,i=n.password,s=n.isLoading,o=n.isError,u=n.isSuccess,m=n.msg;Object(t.useEffect)((function(){return function(){a({type:"LOGIN_RESET"})}}),[a]);var f=Object(c.f)(),b=function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),a(S(l,i)).then((function(){return f.push("/"+v)})).catch((function(e){return e}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(e){var n;a({type:"LOGIN_INPUT",name:(n={name:e.target.name,value:e.target.value}).name,value:n.value})};return r.a.createElement(te,{maxWidth:"600px"},r.a.createElement("h1",null,"Logga in"),r.a.createElement(ie,{error:o,success:u,msg:m}),r.a.createElement("form",{action:"#",onSubmit:b},r.a.createElement(Z,{name:"username",type:"text",placeholder:"Anv\xe4ndarnamn",onChange:g,value:l,valid:null}),r.a.createElement(Z,{name:"password",type:"password",placeholder:"L\xf6senord",onChange:g,value:i,valid:null}),r.a.createElement(ne,{type:"submit",disabled:s},s?r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{icon:["fas","spinner"],spin:!0})," Logga in"):"Logga in")))})),oe=a(16),ce=a(36),ue=a(17);function me(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function de(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?me(a,!0).forEach((function(n){Object(ue.a)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var pe={username:"",password:"",isLoading:!1,isError:!1,isSuccess:!1,msg:"",isLoggedIn:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGIN_LOADING":return de({},e,{isLoading:n.isLoading});case"LOGIN_INPUT":return de({},e,Object(ue.a)({},n.name,n.value));case"LOGIN_SUCCESS":return de({},e,{username:"",password:"",isLoading:!1,isError:!1,isSuccess:!0,msg:n.msg,isLoggedIn:!0});case"LOGIN_ERROR":return de({},e,{password:"",isLoading:!1,isError:!0,isSuccess:!1,msg:n.msg});case"LOGIN_SUBMIT":return de({},e,{isLoading:!0});case"LOGIN_LOGOUT":return de({},e,{isLoggedIn:!1});case"LOGIN_RESET":return de({},e,{isSuccess:!1,isError:!1,msg:"",username:"",password:"",isLoading:!1})}return e};function be(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ge(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?be(a,!0).forEach((function(n){Object(ue.a)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var Ee={firstname:"",lastname:"",email:"",password:"",passwordconfirm:"",firstnameIsValid:null,lastnameIsValid:null,emailIsValid:null,passwordIsValid:null,passwordconfirmIsValid:null,isLoading:!1,isError:!1,isSuccess:!1,msg:""},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REGISTER_SUBMITING":return ge({},e,{isLoading:!0});case"REGISTER_INPUT":return ge({},e,Object(ue.a)({},n.field.name,n.field.value));case"REGISTER_VALIDATE":return ge({},e,Object(ue.a)({},n.field.name+"IsValid",n.field.isValid));case"REGISTER_SUCCESS":return ge({},e,{firstname:"",lastname:"",email:"",password:"",passwordconfirm:"",firstnameIsValid:null,lastnameIsValid:null,emailIsValid:null,passwordIsValid:null,passwordconfirmIsValid:null,isLoading:!1,isSuccess:!0,msg:"Registrering lyckades. Ett mail har skickats till din e-mailadress. F\xf6lj l\xe4nken f\xf6r att verifiera ditt konto."});case"REGISTER_ERROR":return ge({},e,{firstname:"",lastname:"",email:"",password:"",passwordconfirm:"",firstnameIsValid:null,lastnameIsValid:null,emailIsValid:null,passwordIsValid:null,passwordconfirmIsValid:null,isLoading:!1,isSuccess:!1,isError:!0,msg:"N\xe5nting gick fel..."});case"REGISTER_ERROR_EMAIL_TAKEN":return ge({},e,{email:"",password:"",passwordconfirm:"",emailIsValid:null,passwordIsValid:null,passwordconfirmIsValid:null,isLoading:!1,isSuccess:!1,isError:!0,msg:"E-postadress \xe4r redan registrerad."});case"REGISTER_RESET":return ge({},e,{firstname:"",lastname:"",email:"",password:"",passwordconfirm:"",firstnameIsValid:null,lastnameIsValid:null,emailIsValid:null,passwordIsValid:null,passwordconfirmIsValid:null,isLoading:!1,isSuccess:!1,isError:!1,msg:""})}return e},he=Object(oe.c)({login:fe,register:ve}),we=Object(oe.d)(he,Object(oe.a)(ce.a)),Ie=function(e){return function(n,a){if(0===e.value.length)return n({type:"REGISTER_VALIDATE",field:{name:e.name,isValid:null}});switch(e.name){case"email":return n({type:"REGISTER_VALIDATE",field:{name:"email",isValid:/^[\w.]+@iths.se$/i.test(e.value)}});case"firstname":return n({type:"REGISTER_VALIDATE",field:{name:"firstname",isValid:/^[a-z]+$/i.test(e.value)}});case"lastname":return n({type:"REGISTER_VALIDATE",field:{name:"lastname",isValid:/^[a-z]+$/i.test(e.value)}});case"password":return n({type:"REGISTER_VALIDATE",field:{name:"password",isValid:/.{8,}/.test(e.value)}});case"passwordconfirm":return n({type:"REGISTER_VALIDATE",field:{name:"passwordconfirm",isValid:e.value===a().register.password}});default:return}}},Oe=function(e){return e.register.emailIsValid&&e.register.firstnameIsValid&&e.register.lastnameIsValid&&e.register.passwordIsValid&&e.register.passwordconfirmIsValid},ye=Object(j.b)((function(e){return{register:e.register,isFormValid:Oe(e)}}))((function(e){var n=e.register,a=e.isFormValid,l=e.dispatch;Object(t.useEffect)((function(){return function(){l({type:"REGISTER_RESET"}),clearTimeout(b)}}),[l]);var i=function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),l(function(){var e=Object(p.a)(d.a.mark((function e(n,a){var t,r,l,i,s,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a().register,r=t.email,l=t.firstname,i=t.lastname,s=t.password,o=t.passwordconfirm,n({type:"REGISTER_SUBMITING"}),e.prev=2,e.next=5,fetch("".concat(E,"/api/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,firstname:l,lastname:i,password:s,passwordconfirm:o})});case 5:if(200===(c=e.sent).status){e.next=8;break}throw Error(c.status);case 8:n({type:"REGISTER_SUCCESS"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),401===Number(e.t0.message)?n({type:"REGISTER_ERROR_EMAIL_TAKEN"}):n({type:"REGISTER_ERROR"});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n,a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s=function(e){var n=e.target,a=n.name,t=n.value;l({type:"REGISTER_INPUT",field:{name:a,value:t}}),h(1e3,(function(){return l(Ie({name:a,value:t}))}))};return r.a.createElement(te,{maxWidth:"600px"},r.a.createElement("h1",null,"Registrering"),r.a.createElement(ie,{error:n.isError,success:n.isSuccess,msg:n.msg}),r.a.createElement("form",{onSubmit:i},r.a.createElement("div",{className:"inputContainer"},r.a.createElement(Z,{name:"email",placeholder:"E-post",onChange:s,value:n.email,valid:n.emailIsValid,onBlur:function(e){return l(Ie({name:e.target.name,value:e.target.value}))}}),!n.emailIsValid&&null!==n.emailIsValid&&r.a.createElement(Y,{htmlFor:"email"},"Ange giltlig e-postadress som slutar p\xe5 @iths.se")),r.a.createElement("div",{className:"inputContainer"},r.a.createElement(Z,{name:"firstname",placeholder:"F\xf6rnamn",halfWidth:!0,onChange:s,value:n.firstname,valid:n.firstnameIsValid,onBlur:function(e){return l(Ie({name:e.target.name,value:e.target.value}))}}),!n.firstnameIsValid&&null!==n.firstnameIsValid&&r.a.createElement(Y,{htmlFor:"firstname"},"Endast bokst\xe4ver"),r.a.createElement(Z,{name:"lastname",placeholder:"Efternamn",halfWidth:!0,onChange:s,value:n.lastname,valid:n.lastnameIsValid,onBlur:function(e){return l(Ie({name:e.target.name,value:e.target.value}))}}),!n.lastnameIsValid&&null!==n.lastnameIsValid&&r.a.createElement(Y,{htmlFor:"lastname"},"Endast bokst\xe4ver")),r.a.createElement("div",{className:"inputContainer"},r.a.createElement(Z,{name:"password",type:"password",placeholder:"L\xf6senord",onChange:s,value:n.password,valid:n.passwordIsValid,onBlur:function(e){return l(Ie({name:e.target.name,value:e.target.value}))}}),!n.passwordIsValid&&null!==n.passwordIsValid&&r.a.createElement(Y,{htmlFor:"password"},"Minst 8 tecken")),r.a.createElement("div",{className:"inputContainer"},r.a.createElement(Z,{name:"passwordconfirm",type:"password",placeholder:"Bekr\xe4fta l\xf6senord",onChange:s,value:n.passwordconfirm,valid:n.passwordconfirmIsValid,onBlur:function(e){return l(Ie({name:e.target.name,value:e.target.value}))}}),!n.passwordconfirmIsValid&&null!==n.passwordconfirmIsValid&&r.a.createElement(Y,{htmlFor:"password"},"L\xf6senord m\xe5ste matcha")),r.a.createElement(ne,{type:"submit",disabled:n.isLoading||!a},n.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{icon:["fas","spinner"],spin:!0})," Registrera"):"Registrera")))})),xe=a(22),je=a(37),Re=a(19),Se=a(38);function Ve(){var e=Object(s.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-family: 'Roboto', sans-serif;\n    background-color: rgba(0,0,0,.03)\n  }\n\n  #root {\n      width: 100vw;\n      max-width: 100vw;\n      display: flex;\n      align-items: center;\n      flex-direction: column;\n    }\n"]);return Ve=function(){return e},e}xe.b.add(je.a,Re.b,Re.e,Se.a,Re.d,Re.c,Re.a);var Le=Object(u.a)(Ve()),ke=function(){return r.a.createElement(j.a,{store:we},r.a.createElement(o.a,null,r.a.createElement(Le,null),r.a.createElement(k,null),r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"".concat(v,"/")},r.a.createElement(q,null)),r.a.createElement(c.a,{path:"".concat(v,"/about")},r.a.createElement(K,null)),r.a.createElement(c.a,{path:"".concat(v,"/login")},r.a.createElement(se,null)),r.a.createElement(c.a,{path:"".concat(v,"/register")},r.a.createElement(ye,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.1cc0ea2c.chunk.js.map